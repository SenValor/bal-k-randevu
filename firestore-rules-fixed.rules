rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Ana sayfa fotoÄŸraflarÄ± - herkes okuyabilir
    match /settings/boatPhotos {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // SSS verileri - herkes okuyabilir
    match /settings/sss {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Fiyat bilgileri - herkes okuyabilir
    match /settings/prices {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // Ã–zel turlar - herkes okuyabilir
    match /settings/customTours {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // HakkÄ±mÄ±zda iÃ§eriÄŸi - herkes okuyabilir
    match /settings/hakkimizda {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // VarsayÄ±lan Ã§alÄ±ÅŸma saatleri - herkes okuyabilir
    match /settings/availableTimes {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // ğŸ†• Genel ayarlar (bakÄ±m modu dahil) - herkes okuyabilir
    match /settings/general {
      allow read: if true;  // âœ… BakÄ±m modu kontrolÃ¼ iÃ§in herkese aÃ§Ä±k
      allow write: if request.auth != null;  // ğŸ”’ Sadece admin deÄŸiÅŸtirebilir
    }
    
    // GÃ¼nlÃ¼k saat programlarÄ± - herkes okuyabilir
    match /schedules/{scheduleId} {
      allow read: if true;
      allow write: if request.auth != null;
    }
    
    // ğŸ¯ REZERVASYONLAR - MÃœÅTERÄ°LER Ä°Ã‡Ä°N AÃ‡ILDI
    match /reservations/{reservationId} {
      allow read: if true;  // âœ… Herkes okuyabilir (sorgulama iÃ§in)
      allow create: if true;  // âœ… Herkes rezervasyon oluÅŸturabilir
      allow update, delete: if request.auth != null;  // ğŸ”’ Sadece admin gÃ¼ncelleyebilir/silebilir
    }
    
    // Admin profilleri - sadece authenticated
    match /admin_profiles/{profileId} {
      allow read, write: if request.auth != null;
    }
    
    // DiÄŸer ayarlar - sadece authenticated
    match /{document=**} {
      allow read, write: if request.auth != null;
    }
  }
}